# 中国象棋设计模块与实现思路

## 棋盘

## 音乐模块Music

使用PWM

## 键盘控制Keyboard

使用相关端口和协议

## 游戏逻辑

### 棋子状态
每个棋子有
1. 阵营(0表示汉，1表示楚) 1 bit
2. 种类(001将 010士 011象 100马 101车 110炮 111卒) 3 bits
3. 位置(row, col) 棋盘一共有10行9列，需要两个reg[3：0]寄存器存储 3 + 3 = 6 bits

综上，只需要10 bits就可以完整的表示一个棋子。
如 `0 111 000 000` 表示一枚红色的兵在0行0列。

### 棋子行为
所有棋子的行为可以分为以下两种
1. 移动
2. 攻击

我们在全局设置一个选择器(Selector)，其中保存了当前选择的棋子，然后判断这个棋子可选择的落点，再根据目标点的棋子种类（敌方/我方）来执行不同的行为。

对于每个棋子，
### 将杀判断

### 

## 渲染逻辑
考虑到棋盘作为背景图片，其上会叠加各种棋子和光标，需要考虑渲染冲突的问题，先前的经验是设置一个缓冲区，在帧缓冲
![alt text](figs/board.png)
